package simulation;import java.awt.*;import java.awt.event.*;/** le panneau qui simule la lecture de la bande magnetique de la  * carte en demandant au client d'entrer son numero de carte   */class PanneauCarte extends Panel{    /** Constructor     */    PanneauCarte()    {        setLayout(new GridLayout(0, 1, 0, 0));        setFont(new Font("Monospaced", Font.PLAIN, 14));                add(new Label("Un vrai guichet aurait une bande",                      Label.CENTER));        add(new Label("magnetique pour lire la carte",                      Label.CENTER));        add(new Label("Pour la simulation,",                      Label.CENTER));        add(new Label("Veuillez entrer le numero de carte manuellement.",                      Label.CENTER));        add(new Label("Puis appuyer sur ENTRER",                      Label.CENTER));        add(new Label("(Un entier invalide ou un entier",                      Label.CENTER));        add(new Label("negatif sera traite comme",                      Label.CENTER));        add(new Label("une carte illisible)",                      Label.CENTER));                cardNumberField = new TextField(30);        cardNumberField.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e)            {                synchronized(PanneauCarte.this)                {                    PanneauCarte.this.notify();                }            }        });        Panel cardNumberPanel = new Panel();        cardNumberPanel.add(cardNumberField);        add(cardNumberPanel);    }        /** Demande au client de rentrer le numero de carte     *     *  @return le nombre entre     */    synchronized int readCardNumber()    {        cardNumberField.setText("");                cardNumberField.requestFocus();        try        {            wait();        }        catch(InterruptedException e)        { }                        int cardNumber;        try        {            cardNumber = Integer.parseInt(cardNumberField.getText());            if (cardNumber <= 0)                cardNumber = -1;        }        catch(NumberFormatException e)        {            cardNumber = -1;        }                return cardNumber;    }    /** Le champ dans lequel le numero de carte doit etre entre     */    private TextField cardNumberField;}
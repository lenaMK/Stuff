package simulation;import guichet.Guichet;import java.awt.*;import java.awt.event.*;import compte.Carte;/** Simule lecteur carte */class SimLecteurCarte extends Button{    /** Constructor     *     *  @param simulation L'objet simulation     */    SimLecteurCarte(final Simulation simulation)    {        super("Cliquer pour inserer carte");        addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e)            {                simulation.cardInserted();            }        });                        setVisible(false);    }        /** Anime la carte entrant dans le guichet     */    void animateInsertion()    {        originalBounds = getBounds();        Rectangle currentBounds =           new Rectangle(originalBounds.x, originalBounds.y,                         originalBounds.width, originalBounds.height);                                 while (currentBounds.width > 0 && currentBounds.height > 0)        {             setBounds(currentBounds.x, currentBounds.y,                      currentBounds.width, currentBounds.height);            repaint();            try             {                 Thread.sleep(100);            }             catch (InterruptedException e)             { }                        currentBounds.height -= 1;            currentBounds.width =               (originalBounds.width * currentBounds.height) / originalBounds.height;            currentBounds.x =              originalBounds.x + (originalBounds.width - currentBounds.width) / 2;            currentBounds.y =              originalBounds.y + (originalBounds.height - currentBounds.height) / 2;        }                  setVisible(false);      }        /** Anime l'ejection de la carte       */    void animateEjection()    {        setLabel("Ejection carte");        setVisible(true);                Rectangle currentBounds =            new Rectangle(originalBounds.x + originalBounds.width / 2,                         originalBounds.y + originalBounds.height / 2,                         originalBounds.width / originalBounds.height, 1);                while (currentBounds.height <= originalBounds.height &&               currentBounds.width <= originalBounds.width)        {             setBounds(currentBounds.x, currentBounds.y,                      currentBounds.width, currentBounds.height);            repaint();            try             {                 Thread.sleep(100);            }             catch (InterruptedException e)             { }            currentBounds.height += 1;            currentBounds.width =               (originalBounds.width * currentBounds.height) / originalBounds.height;            currentBounds.x =              originalBounds.x + (originalBounds.width - currentBounds.width) / 2;            currentBounds.y =              originalBounds.y + (originalBounds.height - currentBounds.height) / 2;        }                  setLabel("Cliquer pour inserer carte");    }    /** Anime retention de la carte     */    void animateRetention()    {        setLabel("Cliquer pour inserer carte");        setVisible(true);    }    /** Pour animer insertion/ejection de la carte, on change les dimensions des contours du rectangle     */     private Rectangle originalBounds;}                                       